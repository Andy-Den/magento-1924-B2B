<?xml version="1.0"?>
<config>
    <modules>
        <FVets_Sales>
            <version>0.2.2</version>
        </FVets_Sales>
    </modules>
    <global>
        <blocks>
            <fvets_sales>
                <class>FVets_Sales_Block</class>
            </fvets_sales>
            <sales>
                <rewrite>
                    <adminhtml_customer_edit_tab_agreement>FVets_Sales_Block_Adminhtml_Customer_Edit_Tab_Agreement</adminhtml_customer_edit_tab_agreement>
                    <adminhtml_customer_edit_tab_recurring_profile>FVets_Sales_Block_Adminhtml_Customer_Edit_Tab_Recurring_Profile</adminhtml_customer_edit_tab_recurring_profile>
                    <order_history>FVets_Sales_Block_Order_History</order_history>
                    <reorder_sidebar>FVets_Sales_Block_Reorder_Sidebar</reorder_sidebar>
                </rewrite>
            </sales>
            <adminhtml>
                <rewrite>
                    <sales_order_grid>FVets_Sales_Block_Adminhtml_Order_Grid</sales_order_grid>
                    <sales_order_view_tab_creditmemos>FVets_Sales_Block_Adminhtml_Order_View_Tab_Creditmemos</sales_order_view_tab_creditmemos>
                    <sales_order_view_tab_history>FVets_Sales_Block_Adminhtml_Order_View_Tab_History</sales_order_view_tab_history>
                    <sales_order_view_tab_invoices>FVets_Sales_Block_Adminhtml_Order_View_Tab_Invoices</sales_order_view_tab_invoices>
                    <sales_order_view_tab_shipments>FVets_Sales_Block_Adminhtml_Order_View_Tab_Shipments</sales_order_view_tab_shipments>
                </rewrite>
            </adminhtml>
        </blocks>
        <helpers>
            <fvets_sales>
                <class>FVets_Sales_Helper</class>
            </fvets_sales>
        </helpers>
        <models>
            <fvets_sales>
                <class>FVets_Sales_Model</class>
                <resourceModel>fvets_sales_resource</resourceModel>
            </fvets_sales>
            <fvets_sales_resource>
                <class>FVets_Sales_Model_Resource</class>
                <entities>
                    <offline_order>
                        <table>fvets_sales_offline_order</table>
                    </offline_order>
                    <offline_order_item>
                        <table>fvets_sales_offline_order_item</table>
                    </offline_order_item>
                </entities>
            </fvets_sales_resource>
            <sales>
                <rewrite>
                    <quote_address>FVets_Sales_Model_Sales_Quote_Address</quote_address>
                </rewrite>
            </sales>
        </models>
        <resources>
            <fvets_sales_setup>
                <setup>
                    <module>FVets_Sales</module>
                    <class>FVets_Sales_Model_Resource_Setup</class>
                </setup>
            </fvets_sales_setup>
        </resources>
    </global>
    <fieldsets>
        <sales_convert_quote_item>
            <option_id_erp>
                <to_order_item>*</to_order_item>
            </option_id_erp>
        </sales_convert_quote_item>
    </fieldsets>
    <frontend>
        <translate>
            <modules>
                <FVets_Sales>
                    <files>
                        <default>Mage_Sales.csv</default>
                    </files>
                </FVets_Sales>
            </modules>
        </translate>
        <events>
            <sales_quote_item_set_product>
                <observers>
                    <fvets_sales_quote_item_set_product>
                        <type>singleton</type>
                        <class>fvets_sales/sales_quote_observer</class>
                        <method>setQuoteItemOptionPackingIdErp</method>
                    </fvets_sales_quote_item_set_product>
                </observers>
            </sales_quote_item_set_product>
            <sales_convert_quote_item_to_order_item>
                <observers>
                    <fvets_sales_convert_quote_item_to_order_item>
                        <type>singleton</type>
                        <class>fvets_sales/sales_quote_observer</class>
                        <method>setOrderItemPackingIdErp</method>
                    </fvets_sales_convert_quote_item_to_order_item>
                </observers>
            </sales_convert_quote_item_to_order_item>
            <sales_convert_quote_item_to_order_item>
                <observers>
                    <fvets_sales_order_item_save_before>
                        <type>singleton</type>
                        <class>fvets_sales/sales_order_observer</class>
                        <method>setItemRealOriginalPrice</method>
                    </fvets_sales_order_item_save_before>
                </observers>
            </sales_convert_quote_item_to_order_item>
        </events>
    </frontend>
    <adminhtml>
        <acl>
            <resources>
                <admin>
                    <children>
                        <sales translate="title" module="sales">
                            <title>Sales</title>
                            <children>
                                <order translate="title">
                                    <children>
                                        <tabs translate="title">
                                            <title>Tabs</title>
                                            <children>
                                                <view_creditmemo translate="title"><title>View Credit Memos</title></view_creditmemo>
                                                <view_history translate="title"><title>View History</title></view_history>
                                                <view_invoices translate="title"><title>View Invoices</title></view_invoices>
                                                <view_shipments translate="title"><title>View Shipments</title></view_shipments>
                                            </children>
                                        </tabs>
                                    </children>
                                </order>
                            </children>
                        </sales>
                        <customer translate="title" module="customer">
                            <children>
                                <tabs translate="title">
                                    <title>Tabs</title>
                                    <children>
                                        <agreement translate="title"><title>Agreements</title></agreement>
                                        <recurring_profile translate="title"><title>Recurring Profiles</title></recurring_profile>
                                    </children>
                                </tabs>
                            </children>
                        </customer>
                    </children>
                </admin>
            </resources>
        </acl>
    </adminhtml>
</config>
